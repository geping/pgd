(function($){$.fn.filestyle=function(options){var settings={width:250};if(options){$.extend(settings,options);};return this.each(function(){var self=this;var wrapper=$("<div>").css({"width":settings.imagewidth+"px","height":settings.imageheight+"px","background":"-moz-linear-gradient(center top , #FBFBFB, #F5F5F5) repeat scroll 0 0 transparent","background-position":"right","display":"inline","position":"relative","overflow":"hidden","-moz-border-radius":"5px 5px 5px 5px","-moz-box-shadow":"1px 1px 0 #999999","border":"1px solid #FFFFFF","z-index":"80"});var filename=$('<input class="file">').addClass($(self).attr("class")).css({"display":"inline","width":settings.width+"px"});var content="<span style='position:relative;padding-left:"+settings.conpadleft+"px;'>"+settings.content+"</span>";$(self).before(filename);$(self).wrap(wrapper);$(self).before(content);$(self).css({"position":"relative","height":settings.imageheight+"px","width":settings.width+"px","display":"inline","cursor":"pointer","opacity":"0.0"});if($.browser.mozilla){if(/Win/.test(navigator.platform)){$(self).css("margin-left","-142px");}else{$(self).css("margin-left","-168px");};}else{$(self).css("margin-left",settings.imagewidth-settings.width+"px");};$(self).bind("change",function(){filename.val($(self).val());});});};})(jQuery);
